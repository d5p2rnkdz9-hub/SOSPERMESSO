# Project State: SOS Permesso

**Last Updated:** 2026-02-18
**Status:** v3.2 — Roadmap created, ready to plan Phase 47

## Project Reference

See: .planning/PROJECT.md (updated 2026-02-17)

**Core value:** Users can quickly find accurate, understandable information about their specific permit type and what documents they need for the Questura.

**Current focus:** v3.2 EN Translation Pipeline

## Current Position

**Current Milestone:** v3.2 EN Translation Pipeline
**Phase:** 47 of 50 (Notion Cache) — ready to plan
**Plan:** 0 of 2
**Status:** Ready to plan
**Last activity:** 2026-02-18 — Roadmap created (Phases 47-50)

```
Progress: [░░░░░░░░░░] 0%
```

## v3.2 Architecture Decisions

**Approach:** Same-pipeline (Path A)
- Notion response cache with `last_edited_time` — incremental builds for both IT and EN
- Translation happens offline via `npm run translate`, not during every build
- Translations written back to Notion as EN columns; 11ty reads them at build time
- Section-level hashing prevents re-translating unchanged Q&A sections
- EN pages generated by 11ty at `/en/` prefix (same templates as IT, parameterized by lang)

## Accumulated Context

### Decisions

- **v3.2-arch: notion-cache** — Cache Notion API responses locally with `last_edited_time` check; Phase 47
- **v3.2-arch: offline-translation** — `npm run translate` is a separate step, not part of every build
- **v3.2-arch: notion-en-columns** — EN translations written back to Notion DB as properties alongside IT
- **v3.2-arch: section-hashing** — Only re-translate sections whose Italian source text changed

### Carried from v3.1

- Dizionario links need revision (deferred from v3.1)
- Content validation pass (deferred from v3.1)
- 3 unrecognized permits in DB (Tirocinio, Lavoro artistico, Sanatoria) — user to decide

### Blockers/Concerns

None. Phase 47 is independent infrastructure with no external dependencies.

## Session Continuity

**Last session:** 2026-02-18
**Stopped at:** Roadmap created for v3.2. Next: `/gsd:plan-phase 47`
**Resume file:** None

---

*This file is the single source of truth for project state. Update after every significant change.*
