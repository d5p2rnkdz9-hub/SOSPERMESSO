# Milestone v1.4: Error Reporting + Dropdown Navigation

**Status:** ✅ SHIPPED 2026-01-27
**Phases:** 10-11
**Total Plans:** 3
**Total Requirements:** 11

## Overview

Add user error reporting capability via a "Segnala errore" button on content pages that links to Typeform, and implement dropdown menus for Database, Guide, and Test navigation items with hover behavior on desktop and flat list on mobile.

## Phases

### Phase 10: Error Reporting

**Goal:** Users can report content or technical errors from any content page via a visible button that opens a Typeform with pre-filled page context.
**Depends on:** None
**Requirements:** ERR-01, ERR-02, ERR-03, ERR-04, ERR-05
**Plans:** 1 plan

**Success Criteria:**
1. User sees "Segnala errore" button in top-right of content area on any permit, document, or guide page
2. User clicks button and is redirected to Typeform URL with current page URL passed as parameter
3. Button is visible but non-intrusive (does not block content or compete with breadcrumbs)

**Note:** User creates Typeform separately. Implementation provides working hyperlink with URL parameter.

**Scope:**
- Add button HTML/CSS to content page templates
- Implement redirect link with page URL as parameter (user creates Typeform separately)
- Propagate button to all content pages (~100+ files)

Plans:
- [x] 10-01-PLAN.md — Add error button CSS, update templates, propagate to 128 content pages

---

### Phase 11: Dropdown Navigation

**Goal:** Navigation menu items (Database, Guide, Test) show dropdown submenus on hover (desktop) or flat expanded lists (mobile) with consistent styling.
**Depends on:** None
**Requirements:** NAV-01, NAV-02, NAV-03, NAV-04, NAV-05, NAV-06
**Plans:** 2 plans in 2 waves

**Success Criteria:**
1. User hovers over "Database" menu item (desktop) and sees dropdown with 2 items: "Database di permessi", "Che documenti porto in Questura"
2. User hovers over "Guide" menu item (desktop) and sees dropdown with 3 items: "Protezione internazionale", "Ricongiungimento familiare", "Dizionario"
3. User hovers over "Test" menu item (desktop) and sees dropdown with 2 items: "Posso AVERE un permesso?", "Posso RINNOVARE il permesso?"
4. User opens hamburger menu (mobile) and sees all menu items as flat list with sub-items inline (no dropdowns)
5. Dropdown styling matches existing header design (white background, teal text, appropriate shadows)

**Scope:**
- Restructure header HTML to support dropdown containers
- Add dropdown CSS with hover trigger (desktop)
- Modify mobile menu JS to render flat list
- Propagate header changes to all pages (~190 files)

Plans:
- [x] 11-01-PLAN.md — Core dropdown implementation (CSS + template HTML + mobile JS)
- [x] 11-02-PLAN.md — Propagate to all pages + verification checkpoint

---

## Progress

| Phase | Name | Status | Plans |
|-------|------|--------|-------|
| 10 | Error Reporting | Complete | 1 plan |
| 11 | Dropdown Navigation | Complete | 2 plans |

## Coverage

| Requirement | Phase | Status |
|-------------|-------|--------|
| ERR-01 | 10 | Complete |
| ERR-02 | 10 | Complete |
| ERR-03 | 10 | Complete |
| ERR-04 | 10 | User Setup |
| ERR-05 | 10 | User Setup |
| NAV-01 | 11 | Complete |
| NAV-02 | 11 | Complete |
| NAV-03 | 11 | Complete |
| NAV-04 | 11 | Complete |
| NAV-05 | 11 | Complete |
| NAV-06 | 11 | Complete |

**Mapped:** 11/11 requirements

---

## Milestone Summary

**Key Decisions:**
- D10-01-01: Teal outline button style (subtle, non-intrusive)
- D10-01-02: Absolute/static positioning for error button
- D11-01-01: Pure CSS for dropdowns, JS for ARIA only
- D11-01-02: Mobile flat list (40% faster per NN/G research)
- D11-02-01: Skip redirect pages (no nav structure to update)

**Issues Resolved:**
- Error button added to all 86 content pages
- Dropdown navigation propagated to 98 pages
- List marker dots removed from dropdown items (CSS fix)

**Issues Deferred:**
- None

**Technical Debt Incurred:**
- None

---

*Roadmap created: 2026-01-26*
*Archived: 2026-01-27 as part of v1.4 milestone completion*
*For current project status, see .planning/STATE.md*
