---
phase: 09-header-height-fix
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/styles/components.css
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Header has display: flex property"
    - "Menu items are visually centered vertically in header"
    - "Logo is visually centered vertically in header"
  artifacts:
    - path: "src/styles/components.css"
      provides: "Header with display: flex for reliable height inheritance"
      contains: "display: flex"
  key_links:
    - from: ".header"
      to: ".container"
      via: "flex container height inheritance"
      pattern: "display:\\s*flex"
---

<objective>
Fix broken CSS height inheritance chain in header by adding display: flex to .header element.

Purpose: Close gap GAP-HEIGHT-01 — the height chain breaks because .header > .container is a block element with height: 100% inside a sticky-positioned parent, causing menu items and logo to not center properly.

Output: Updated components.css with display: flex on .header for reliable height inheritance.
</objective>

<context>
Root cause analysis:
- .header has height: 60px (explicit) ✓
- .header > .container has height: 100% but is a BLOCK element ⚠️
- .navbar has height: 100%, align-items: center ⚠️
- .nav-wrapper has height: 100%, align-items: center ⚠️

Block elements don't reliably pass percentage heights to flex children when position: sticky is involved.
The fix: Add display: flex to .header to make height inheritance reliable.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add display: flex to .header</name>
  <files>src/styles/components.css</files>
  <action>
Update the `.header` rule in components.css (around line 218-227):

Add `display: flex;` to the .header rule. This makes the header a flex container,
which ensures reliable height inheritance to child elements.

The .header rule should look like:
```css
.header {
  display: flex;  /* ADD THIS LINE */
  background: #FFFFFF;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  position: sticky;
  top: 0;
  z-index: var(--z-sticky);
  height: 60px;
  padding: 0 !important;
}
```
  </action>
  <verify>
1. Open index.html in browser
2. Check that menu items are vertically centered in the 60px header
3. Check that logo is vertically centered
4. Use browser dev tools to verify height chain:
   - .header: 60px
   - .container: 60px (should now match)
   - .navbar: 60px (should now match)
  </verify>
  <done>
Header has display: flex, height inheritance chain works, menu and logo visually centered.
  </done>
</task>

</tasks>

<verification>
After completing:

1. **Height chain verification:**
   - [ ] .header has display: flex
   - [ ] .header height: 60px
   - [ ] .container inherits full height
   - [ ] .navbar inherits full height

2. **Visual verification:**
   - [ ] Menu items vertically centered in header
   - [ ] Logo vertically centered in header
   - [ ] No layout shifts or visual regressions

3. **Cross-browser:**
   - [ ] Works in Chrome
   - [ ] Works in Safari
   - [ ] Works in Firefox
</verification>

<success_criteria>
1. .header has display: flex property
2. Height inheritance chain works: .header → .container → .navbar all 60px
3. Menu items and logo visually centered vertically
4. No visual regressions
</success_criteria>
