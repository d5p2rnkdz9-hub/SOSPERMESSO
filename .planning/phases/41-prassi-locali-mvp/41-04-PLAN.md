---
phase: 41-prassi-locali-mvp
plan: 04
type: execute
wave: 3
depends_on: ["41-03"]
files_modified: []
autonomous: false
must_haves:
  truths:
    - "Complete prassi locali feature verified visually on document pages"
    - "Build succeeds with and without Notion data"
---

<objective>
Visual verification of the complete Prassi Locali MVP. Human confirms that the static display, submission form, voting UI, and overall design match expectations.

Purpose: Before marking Phase 41 complete, verify the full feature works visually and interactively. This catches styling issues, UX problems, and integration gaps that automated checks miss.

Output: Verified feature or list of issues to address.
</objective>

<execution_context>
@/Users/albertopasquero/.claude/get-shit-done/workflows/execute-plan.md
@/Users/albertopasquero/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/41-prassi-locali-mvp/41-01-SUMMARY.md
@.planning/phases/41-prassi-locali-mvp/41-02-SUMMARY.md
@.planning/phases/41-prassi-locali-mvp/41-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build and prepare for verification</name>
  <files></files>
  <action>
Run `npm run build` to generate the complete site.

Then run `npx @11ty/eleventy --serve` to start the dev server.

Verify automated checks pass:
1. Build completes without errors
2. Generated document pages contain "prassi-locali" section: `grep -l "prassi-locali" _site/src/pages/documenti-*-primo.html | wc -l` — should match number of document pages
3. prassi.js is included: `grep -l "prassi.js" _site/src/pages/documenti-*-primo.html | wc -l`
4. Netlify functions exist: `ls netlify/functions/*.js`
5. No build warnings related to prassi

Report the dev server URL and file counts to the user.
  </action>
  <verify>Build completes, dev server starts, all file counts match expectations.</verify>
  <done>Site built and dev server running for visual inspection.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Prassi Locali MVP feature:
1. "Prassi locali" section on all document pages (after main content)
2. Empty state with encouraging message and "Aggiungi la tua esperienza" button
3. Submission modal form with city autocomplete (105 cities)
4. Vote buttons (Confermo / Non confermo) on practice cards
5. Anchor link in page header for quick navigation to prassi section
6. Styled to match existing design system
  </what-built>
  <how-to-verify>
1. Open any document page in the dev server (e.g., http://localhost:8080/src/pages/documenti-lavoro-subordinato-primo.html)
2. Verify the "Prassi locali" section appears after the document checklist/notes
3. Verify the empty state message is visible: "Nessuna segnalazione ancora..."
4. Click "Aggiungi la tua esperienza" button — modal should open
5. In the modal:
   a. Type a city name — autocomplete should appear from datalist
   b. Type a description (20+ chars)
   c. Check that Submit button is present with correct text
   d. Close modal with X button, backdrop click, and Escape key
6. Scroll up to page header — verify anchor link "Prassi locali della tua Questura" is visible
7. Click the anchor link — page should scroll to the prassi section
8. Check mobile view (resize browser to 375px width):
   a. Section is readable
   b. Modal is full-width and scrollable
   c. Buttons are tappable (44px+ touch targets)
9. Check the rinnovo version of the same page — same section should appear

**Note:** Actual submission and voting require Netlify Functions to be deployed. The UI can be verified locally but API calls will fail without the serverless environment. The visual design, form validation, and UX flow can all be verified locally.
  </how-to-verify>
  <resume-signal>Type "approved" if the feature looks good, or describe any issues to fix.</resume-signal>
</task>

</tasks>

<verification>
Human confirms visual and interactive quality of the Prassi Locali MVP.
</verification>

<success_criteria>
- Feature passes human visual inspection
- Mobile and desktop views work correctly
- Modal form is usable and intuitive
- Design matches existing site aesthetic
</success_criteria>

<output>
After completion, create `.planning/phases/41-prassi-locali-mvp/41-04-SUMMARY.md`
</output>
