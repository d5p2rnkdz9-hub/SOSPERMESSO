---
phase: 05-logo-redesign
plan: 02
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - src/pages/chi-siamo.html
  - src/pages/database.html
  - src/pages/index.html
  - src/pages/dizionario.html
  - src/pages/protezione-internazionale.html
  - src/pages/ricongiungimento-familiare.html
  - src/pages/aiuto-legale.html
  - src/pages/kit-postale.html
  - src/pages/controlla-permesso.html
  - src/pages/privacy-policy.html
  - src/pages/permesso-*.html
  - src/pages/documenti-*.html
  - src/pages/carta-*.html
autonomous: true

must_haves:
  truths:
    - "All pages in src/pages/ use new logo markup"
    - "All pages load Quicksand font"
    - "Logo paths are correct relative to each page location"
  artifacts:
    - path: "src/pages/chi-siamo.html"
      provides: "Example of updated page with new logo"
      contains: "logo-new"
    - path: "src/pages/database.html"
      provides: "Example of updated page with new logo"
      contains: "logo-new"
  key_links:
    - from: "src/pages/*.html"
      to: "../../images/logo-icon.svg"
      via: "img src with relative path"
      pattern: "logo-icon.svg"
---

<objective>
Propagate new logo markup to all pages in src/pages/ directory.

Purpose: Ensure consistent logo appearance across the entire site after proof of concept verified in Plan 01.

Output: All HTML pages in src/pages/ updated with new logo markup and Quicksand font.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/05-logo-redesign/05-01-SUMMARY.md

# Reference for correct markup
@index.html (has the new logo markup from Plan 01)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update all pages with new logo markup</name>
  <files>src/pages/*.html (all HTML files in this directory)</files>
  <action>
For EVERY HTML file in src/pages/, make the following updates:

**1. Add Quicksand font to Google Fonts link**

Find the existing Google Fonts link and add Quicksand. The link should become:
```html
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700;800&family=Quicksand:wght@500;600;700&display=swap" rel="stylesheet">
```

Note: Some pages may have slightly different font links - ensure Quicksand is added.

**2. Replace logo markup**

Find the current logo markup (typically):
```html
<a href="..." class="logo">
  <img src="../../images/Logo.png" alt="SOS Permesso" class="logo-image">
</a>
```

Replace with new markup (note the relative paths from src/pages/):
```html
<a href="../../index.html" class="logo logo-new">
  <span class="logo-icon-wrapper">
    <img src="../../images/logo-icon.svg" alt="" class="logo-icon-img">
  </span>
  <span class="logo-text">
    <img src="../../images/sos-text.svg" alt="S.O.S." class="logo-sos">
    <span class="logo-permesso">Permesso</span>
  </span>
</a>
```

**Important path considerations:**
- Pages in src/pages/ need `../../images/` to reach the images folder
- The href MUST be `../../index.html` (NOT `index.html` or `#home`) to correctly navigate to root
- Root index.html uses `href="#home"` but subpages use `href="../../index.html"`

**Files to update (comprehensive list):**
- Main pages: index.html, chi-siamo.html, database.html, dizionario.html, protezione-internazionale.html, ricongiungimento-familiare.html, aiuto-legale.html, kit-postale.html, controlla-permesso.html, privacy-policy.html
- Permit pages: all permesso-*.html files
- Document pages: all documenti-*.html files
- Card pages: all carta-*.html files

Use a systematic approach - process files alphabetically or by category to ensure none are missed.
  </action>
  <verify>
1. Grep for "Logo.png" in src/pages/ - should return 0 results
2. Grep for "logo-new" in src/pages/ - should return results for all HTML files
3. Grep for "Quicksand" in src/pages/ - should return results for all HTML files
4. Open src/pages/chi-siamo.html in browser - new logo should display correctly
5. Open src/pages/database.html in browser - new logo should display correctly
  </verify>
  <done>
- All HTML files in src/pages/ use new logo markup
- All files load Quicksand font
- No references to old Logo.png remain in src/pages/
- Logo displays correctly on sample pages
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify and fix any edge cases</name>
  <files>src/pages/*.html</files>
  <action>
Run comprehensive verification checks and fix any issues:

**1. Count total HTML files for baseline:**
```bash
ls -1 src/pages/*.html | wc -l
```
Record this number (expected ~138 files based on project scope).

**2. Check for any remaining old logo references:**
```bash
grep -l "Logo.png" src/pages/*.html
```
If any files returned, update them.

**3. Verify ALL files have logo-new class:**
```bash
grep -L "logo-new" src/pages/*.html | wc -l
```
This MUST return 0. If any files returned, update them.

**4. Verify ALL files have Quicksand font:**
```bash
grep -L "Quicksand" src/pages/*.html | wc -l
```
This MUST return 0. If any files returned, add the font.

**5. Verify logo href points to ../../index.html:**
```bash
grep -c 'href="../../index.html".*logo-new\|logo-new.*href="../../index.html"' src/pages/*.html | grep ':0$'
```
Any files showing :0 need href correction.

**6. Verify image paths are correct (../../images/):**
```bash
grep -L '../../images/logo-icon.svg' src/pages/*.html
```
Any files returned have incorrect paths.

**7. Systematically test 15-20 representative files across ALL categories:**

Open each of the following in browser and verify logo displays correctly:

*Main pages (5):*
- src/pages/chi-siamo.html
- src/pages/database.html
- src/pages/dizionario.html
- src/pages/protezione-internazionale.html
- src/pages/privacy-policy.html

*Permit pages (5):*
- src/pages/permesso-studio.html
- src/pages/permesso-lavoro-subordinato.html
- src/pages/permesso-asilo.html
- src/pages/permesso-ue-lungo-periodo.html
- src/pages/permesso-ricongiungimento-familiare.html

*Document pages (5):*
- src/pages/documenti-studio-primo.html
- src/pages/documenti-lavoro-primo.html
- src/pages/documenti-familiare.html
- src/pages/documenti-asilo.html
- src/pages/documenti-lungo-periodo.html

*Card pages (if they exist, 2-3):*
- src/pages/carta-*.html (test any that exist)

*Edge cases (2-3):*
- The first alphabetically: `ls src/pages/*.html | head -1`
- The last alphabetically: `ls src/pages/*.html | tail -1`
- Any with unusual names or structure

**8. Verify logo links work:**
Click logo on 3-4 tested pages - should navigate to root index.html.

**9. Fix any broken paths or missing updates found during verification.**
  </action>
  <verify>
**Automated verification (all must pass):**
- `grep -c "Logo.png" src/pages/*.html | grep -v ':0$'` returns nothing (0 old logos)
- `grep -L "logo-new" src/pages/*.html | wc -l` returns 0 (100% have logo-new)
- `grep -L "Quicksand" src/pages/*.html | wc -l` returns 0 (100% have Quicksand)
- `grep -L '../../images/logo-icon.svg' src/pages/*.html | wc -l` returns 0 (100% correct paths)

**Manual verification:**
- 15-20 pages tested across all categories display logo correctly
- Logo click navigates to root index.html
  </verify>
  <done>
All pages in src/pages/ consistently use new logo with correct paths and fonts.
100% coverage verified via automated grep checks.
Representative sample of 15-20 pages manually verified.
  </done>
</task>

</tasks>

<verification>
- [ ] Total HTML file count recorded (baseline for 100% verification)
- [ ] grep -c "Logo.png" src/pages/*.html shows 0 for ALL files
- [ ] grep -L "logo-new" src/pages/*.html returns empty (0 missing)
- [ ] grep -L "Quicksand" src/pages/*.html returns empty (0 missing)
- [ ] grep -L "../../images/logo-icon.svg" src/pages/*.html returns empty (0 wrong paths)
- [ ] 15-20 representative pages tested manually across all categories
- [ ] Logo click navigates to root index.html on tested pages
- [ ] Mobile view shows icon-only on sample pages
</verification>

<success_criteria>
1. 100% of pages in src/pages/ updated with new logo markup (verified by grep count matching total file count)
2. No remaining references to Logo.png in src/pages/
3. All pages load Quicksand font
4. All pages have correct ../../images/ paths
5. All pages have correct ../../index.html href
6. Logo displays correctly across 15-20 tested pages spanning all categories
7. Consistent user experience site-wide
</success_criteria>

<output>
After completion, create `.planning/phases/05-logo-redesign/05-02-SUMMARY.md`
</output>
