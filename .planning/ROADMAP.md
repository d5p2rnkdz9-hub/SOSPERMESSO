# Roadmap: SOS Permesso

## Milestones

- ✅ **v1.1 Documenti Questura** - Phases 1-3 (shipped 2026-01-25)
- ✅ **v1.2 Visual Refresh** - Phases 4-9 (shipped 2026-01-26)
- ✅ **v1.4 Error Reporting + Dropdown Nav** - Phases 10-11 (shipped 2026-01-27)
- ✅ **v1.5 Footer + Collabora Nav** - Phases 12-14 (shipped 2026-01-28)
- ✅ **v1.6 Document Deduplication** - Phase 15 (shipped 2026-01-28)
- ✅ **v1.7 Database Content Reviewed** - Phases 16-17 (shipped 2026-01-30)
- ✅ **v1.9 SEO Foundations** - Phase 18 (shipped 2026-01-31)
- ✅ **v2.0 Multilingual Foundation** - Phase 20 (shipped 2026-02-02)
- ✅ **v2.2 Language Infrastructure** - Phases 32-34.1 (shipped 2026-02-04)
- ✅ **v3.0 11ty Migration** - Phases 35-38 (shipped 2026-02-05)
- ✅ **v3.1 Prassi Locali + Notion-11ty Completion** - Phases 39-46 (shipped 2026-02-17)
- ✅ **v3.2 EN Translation Pipeline** - Phases 47-50 (shipped 2026-02-18)
- ✅ **v4.0 FR Translation** - Phases 51-54 (shipped 2026-02-19)

---

<details>
<summary>✅ v3.1 Prassi Locali + Notion-11ty Completion (Phases 39-46) - SHIPPED 2026-02-17</summary>

### Phase 39: Document Pages
**Goal:** Document pages generated via 11ty data + templates.
**Status:** Complete (2026-02-07)
**Plans:** 2 plans — [x] 39-01, [x] 39-02

### Phase 40: Permit Pages
**Goal:** Permit pages generated via 11ty data + templates.
**Status:** Complete (2026-02-09)
**Plans:** 2 plans — [x] 40-01, [x] 40-02

### Phase 41: Prassi Locali MVP
**Goal:** Crowdsourced local questura practices on document pages.
**Status:** Complete (2026-02-10)
**Plans:** 4 plans — [x] 41-01, [x] 41-02, [x] 41-03, [x] 41-04

### Phase 42: Build Pipeline
**Goal:** Unified build command, old script cleanup.
**Status:** Complete (2026-02-14)
**Plans:** 3 plans — [x] 42-01, [x] 42-02, [x] 42-03

### Phase 42.1: Fix Prassi Integration (INSERTED)
**Goal:** Fix prassi section not rendering in built document pages.
**Status:** Complete (2026-02-14)
**Plans:** 1 plan — [x] 42.1-01

### Phase 42.2: Requirements & Docs Cleanup (INSERTED)
**Goal:** Bring requirements tracking up to date.
**Status:** Complete (2026-02-14)
**Plans:** 1 plan — [x] 42.2-01

### Phase 43: Populate Blank Permits
**Goal:** Add Notion content for all placeholder permit pages.
**Status:** Complete (2026-02-16)
**Plans:** 4 plans — [x] 43-01, [x] 43-02, [x] 43-03, [x] 43-04

### Phase 44: Costi Section
**Goal:** Itemized cost breakdown on document pages from Notion data.
**Status:** Complete (2026-02-16)
**Plans:** 1 plan — [x] 44-01

### Phase 44.1: URL Coverage & Content Preservation (INSERTED)
**Goal:** Ensure every Notion DB permit has a working HTML page with correct redirects.
**Status:** Complete (2026-02-17)
**Plans:** 3 plans — [x] 44.1-01, [x] 44.1-02, [x] 44.1-03

### Phase 45: Content Validation
**Status:** Deferred to future milestone.

### Phase 46: Dizionario Link Revision
**Status:** Deferred to future milestone.

</details>

---

<details>
<summary>✅ v3.2 EN Translation Pipeline (Phases 47-50) - SHIPPED 2026-02-18</summary>

**Milestone Goal:** Connect English pages to the same 11ty/Notion pipeline as Italian, replacing 136 frozen static EN files with dynamically generated pages. Add Notion response caching for incremental builds.

### Phase 47: Notion Cache
**Goal:** Build only re-fetches Notion pages that changed since the last build.
**Status:** Complete (2026-02-18)
**Plans:** 2 plans — [x] 47-01, [x] 47-02

### Phase 48: Translation Script
**Goal:** IT permit and document content is translated to EN via Claude API and written back to Notion as EN properties, with section-level change detection preventing re-translation of unchanged content.
**Status:** Complete (2026-02-18)
**Plans:** 1 plan — [x] 48-01

### Phase 49: EN Page Generation
**Goal:** EN permit pages and document pages (primo + rinnovo) are generated by 11ty from Notion EN data, output at `/en/` prefix with correct asset paths, and language switcher links correctly between IT and EN.
**Status:** Complete (2026-02-18)
**Plans:** 3 plans — [x] 49-01, [x] 49-02, [x] 49-03

### Phase 50: Static Pages + Cleanup
**Goal:** Static pages that changed since v2.0 are re-translated to EN, and old frozen static EN files are removed after generated replacements are verified.
**Status:** Complete (2026-02-18)
**Plans:** 2 plans — [x] 50-01, [x] 50-02

</details>

---

<details>
<summary>✅ v4.0 FR Translation (Phases 51-54) - SHIPPED 2026-02-19</summary>

**Milestone Goal:** Add French translation using the same Notion + 11ty pipeline as EN. Extend the translation script to support `--lang fr`, create a French Notion database, generate pages at `/fr/` prefix, and upgrade the language switcher and sitemaps to cover IT/EN/FR.

### Phase 51: Translation Infrastructure
**Goal:** Translation script supports FR with dedicated glossary.
**Status:** Complete (2026-02-18)
**Plans:** 1 plan — [x] 51-01

### Phase 52: Notion Database
**Goal:** FR Notion DB created with translated content.
**Status:** Complete (2026-02-18)
**Plans:** 1 plan — [x] 52-01

### Phase 53: FR Page Generation
**Goal:** All FR pages generated by 11ty at `/fr/` prefix.
**Status:** Complete (2026-02-18)
**Plans:** 3 plans — [x] 53-01, [x] 53-02, [x] 53-03

### Phase 53.1: Tech Debt (INSERTED)
**Goal:** Fix sitemaps, listing pages, Typeform, footer, nav switcher, dizionario links, canonicals.
**Status:** Complete (2026-02-19)
**Plans:** 5 plans — [x] 53.1-01, [x] 53.1-02, [x] 53.1-03, [x] 53.1-04, [x] 53.1-05

### Phase 54: SEO
**Goal:** Hreflang tags and sitemaps include FR.
**Status:** Complete (2026-02-19)
**Plans:** Pre-built in phases 53 and 53.1

</details>

---

*Roadmap created: 2026-02-18 -- v4.0 FR + ES Translation*
*Revised: 2026-02-18 -- scoped to FR only; ES deferred to v4.1*
*Revised: 2026-02-19 -- Phase 53.1 planned (5 plans, 1 wave)*
*v4.0 archived: 2026-02-19*
*Previous milestone: v3.2 (Phases 47-50) shipped 2026-02-18*
